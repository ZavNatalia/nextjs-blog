@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========= THEME DEFAULTS ========= */
:root {
    --font-sans: 'OpenSans', sans-serif;
}

:root {
    --color-bg-primary: 240, 240, 240;
    --color-bg-secondary: 255, 255, 255;
    --color-bg-tertiary: 211, 215, 220;

    --color-fg-base: 17, 24, 39;
    --color-fg-accent: 77, 7, 163;
    --color-fg-muted: 100, 116, 139;
    --color-fg-contrast: 255, 255, 255;

    --color-accent-100: 145, 96, 205;
    --color-accent-500: 109, 40, 217;
    --color-accent-700: 77, 7, 163;

    --color-border-100: 229, 231, 235;
    --color-border-500: 203, 213, 225;
    --color-border-700: 148, 163, 184;

    --color-muted-100: 241, 245, 249;
    --color-muted-500: 107, 114, 128;
    --color-muted-700: 71, 85, 105;

    --color-error-100: 254, 226, 226;
    --color-error-500: 239, 68, 68;
    --color-error-700: 153, 27, 27;

    --color-success-100: 220, 252, 231;
    --color-success-500: 34, 197, 94;
    --color-success-700: 22, 101, 52;

    --color-warning-100: 255, 251, 235;
    --color-warning-500: 251, 191, 36;
    --color-warning-700: 202, 138, 4;

    --color-info-100: 219, 234, 254;
    --color-info-500: 59, 130, 246;
    --color-info-700: 30, 64, 175;
}

.dark {
    --color-bg-primary: 33, 35, 52;
    --color-bg-secondary: 19, 23, 34;
    --color-bg-tertiary: 57, 65, 81;

    --color-fg-base: 243, 244, 246;
    --color-fg-accent: 255, 139, 64;
    --color-fg-muted: 148, 163, 184;
    --color-fg-contrast: 15, 23, 42;

    --color-accent-100: 255, 203, 148;
    --color-accent-500: 203, 68, 10;
    --color-accent-700: 164, 60, 5;

    --color-border-100: 41, 45, 65;
    --color-border-500: 71, 85, 105;
    --color-border-700: 30, 41, 59;

    --color-muted-100: 30, 41, 59;
    --color-muted-500: 169, 178, 191;
    --color-muted-700: 71, 85, 105;

    --color-error-100: 123, 17, 17;
    --color-error-500: 239, 68, 68;
    --color-error-700: 248, 158, 158;

    --color-success-100: 220, 252, 231;
    --color-success-500: 34, 197, 94;
    --color-success-700: 22, 101, 52;

    --color-warning-100: 255, 251, 235;
    --color-warning-500: 251, 191, 36;
    --color-warning-700: 202, 138, 4;

    --color-info-100: 219, 234, 254;
    --color-info-500: 59, 130, 246;
    --color-info-700: 30, 64, 175;
}


/* ========= BASE STYLES ========= */
body {
    @apply bg-background-primary text-foreground transition-colors duration-300;
    font-family: var(--font-sans);
}

/* ========= SCROLLBAR ========= */
@layer base {
    ::-webkit-scrollbar {
        width: 10px;
    }

    ::-webkit-scrollbar-thumb {
        background-color: rgba(var(--color-muted-500), 0.7);
        border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background-color: rgba(var(--color-muted-500), 0.9);
        cursor: pointer;
    }

    ::-webkit-scrollbar-track {
        background-color: rgba(var(--color-muted-500), 0.3);
    }
}

/* ========= UTILITIES ========= */
@layer utilities {
    .bg-primary {
        background-color: rgba(var(--color-bg-primary));
    }
    .bg-secondary {
        background-color: rgba(var(--color-bg-secondary));
    }
    .bg-tertiary {
        background-color: rgba(var(--color-bg-tertiary));
    }
    .bg-accent {
        background-color: rgba(var(--color-accent-500));
    }

    .text-contrast {
        color: rgba(var(--color-fg-contrast));
    }

    .text-muted {
        color: rgba(var(--color-fg-muted));
    }
    .text-accent {
        color: rgba(var(--color-fg-accent));
    }
    .text-error {
        color: rgba(var(--color-error-500));
    }

    .ring-accent {
        --tw-ring-color: rgb(var(--color-accent-500));
    }
}

/* ========= COMPONENTS ========= */
@layer components {
    .page {
        @apply flex-1 mx-auto w-full max-w-[90rem] flex flex-col items-center gap-4 px-4 py-6 sm:px-6 lg:px-8;
    }
    .label {
        @apply block text-sm font-medium text-muted-700;
    }

    .input {
        @apply w-full rounded-lg mt-1 border border-border-500 bg-background-secondary p-2 text-base text-foreground
        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-500
        focus-visible:border-accent-700;
    }

    .link {
        @apply text-accent rounded-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-500
    focus-visible:border-background-secondary hover:text-accent-700
    }

    .button {
        @apply inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-colors duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background-primary;
    }

    .button-primary {
        @apply bg-primary text-foreground hover:bg-accent hover:text-foreground-contrast;
    }

    .button-accent {
        @apply bg-accent text-contrast dark:text-foreground hover:bg-accent-700 hover:text-contrast;
    }

    .button-secondary {
        @apply bg-background-tertiary/60 text-foreground hover:bg-background-tertiary;
    }

    .button-danger {
        @apply bg-error-500 font-medium text-foreground-contrast dark:text-foreground hover:bg-error-700;
    }

    .button:disabled {
        @apply cursor-not-allowed bg-primary text-muted-500 opacity-60;
    }

    .button-xs {
        @apply px-3 py-1 text-xs;
    }

    .button-sm {
        @apply px-3 py-1 text-sm;
    }

    .button-md {
        @apply px-4 py-2 text-base;
    }

    .button-lg {
        @apply px-6 py-3 text-lg;
    }

    .icon-button {
    @apply inline-flex items-center justify-center p-1 rounded-lg text-accent hover:text-accent-700 focus:outline-none focus-visible:ring-1 focus-visible:ring-accent focus-visible:ring-offset-1 focus-visible:ring-offset-accent-700;
    }
}

/* ========= MARKDOWN/CONTENT STYLE ========= */
@layer components {
    .markdown-content {
        @apply prose prose-sm sm:prose-base prose-neutral dark:prose-invert max-w-none;
    }

    .markdown-content ul {
        @apply ml-5 list-disc;
    }
    .markdown-content ol {
        @apply ml-5 list-decimal;
    }
    .markdown-content li {
        @apply my-1;
    }
    .markdown-content li p {
        @apply my-0.5;
    }
    .markdown-content h3 {
        @apply italic;
    }

    .markdown-content a {
        @apply text-accent-100 no-underline hover:underline px-[2px] rounded-xl focus:outline-none focus-visible:ring-1 focus-visible:ring-accent focus-visible:ring-offset-1 focus-visible:ring-offset-accent-100 hover:text-accent
    }

    .markdown-content h2 {
        @apply text-accent;
    }

    .markdown-content code {
        @apply rounded bg-muted-100 px-1 py-0.5 text-sm md:text-base font-mono;
    }

    .markdown-content pre {
        @apply rounded bg-muted-700 p-4 overflow-x-auto text-sm text-foreground;
    }


    .markdown-content table th:first-child,
    .markdown-content table td:first-child,
    .markdown-content table tfoot td:first-child {
        padding-inline-start: 12px;
        padding-inline-end: 12px;
    }
}
